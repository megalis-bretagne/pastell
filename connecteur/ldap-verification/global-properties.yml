nom: 'Vérification LDAP'
type: Vérification
description: "Permet de vérifier la présence d'un utilisateur en train de se connecter dans le LDAP\nPermet de faire des tests sur le LDAP afin de valider s'il peut se connecter à Pastell\nPermet également de créer l'utilisateur s'il n'existe pas dans Pastell et qu'il est sur le LDAP"
formulaire:
    page0:
        ldap_host:
            name: 'Serveur LDAP'
            commentaire: 'localhost par défaut, exemple: ldaps://mon.serveur.active.directory'
        ldap_port:
            name: 'Port LDAP'
            commentaire: '389 par défaut, 636 pour LDAPS (dont MS Active Directory)'
        ldap_user:
            name: 'Utilisateur technique'
            commentaire: "Sous la forme d'un DN :  cn=admin,dc=example,dc=com"
        ldap_password:
            name: 'Mot de passe'
            type: password
        ldap_root:
            name: 'Racine de recherche'
            commentaire: 'Exemple: dc=example,dc=com'
        ldap_login_attribute:
            name: "Nom de l'attribut utilisé pour le login"
            commentaire: "Exemple: uid, samaccountname, sAMAccountName, userPrincipalName, ...\nAttention, sur Active Directory, le nom de l'attribut peut être sensible à la casse !"
            default: 'uid'
        ldap_lastname_attribute:
            name: "Nom de l'attribut utilisé pour le nom"
            commentaire: "Exemple: sn \n Attention, sur Active Directory, le nom de l'attribut peut être sensible à la casse !"
            default: 'sn'
        ldap_firstname_attribute:
            name: "Nom de l'attribut utilisé pour le prénom"
            commentaire: "Exemple: givenname, samaccountname, sAMAccountName, userPrincipalName, \nAttention, sur Active Directory, le nom de l'attribut peut être sensible à la casse !"
            default: 'givenname'
        ldap_email_attribute:
            name: "Nom de l'attribut utilisé pour l'email"
            commentaire: "Exemple: mail \nAttention, sur Active Directory, le nom de l'attribut peut être sensible à la casse !"
            default: 'mail'
        ldap_filter:
            name: 'Filtre LDAP'
            commentaire: 'Filtre en langage LDAP (objectClass=*) ou bien (memberOf=pastell)'
action:
    test-connexion:
        name: 'Tester la connexion LDAP'
        action-class: LDAPTestConnexion
    test-recup-entry:
        name: 'Récupérer mon entrée'
        action-class: LDAPTestRecupEntry
    verif-user:
        name: 'Tester la synchronisation'
        action-class: LDAPIsPastellUser
    create-user:
        name: Synchroniser
        action-class: LDAPCreateUser
    create-user-auto:
        name: 'Synchroniser automatiquement'
        action-class: LDAPCreateUser
        action-automatique: create-user-auto
