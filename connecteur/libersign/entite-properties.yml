nom: Libersign
type: signature

description: |
	Connecteur permettant d'inclure l'applet de signature Libersign dans un type de dossier Pastell
	Ce connecteur est compatible avec Libersign V2

formulaire:
	page0:
		libersign_applet_url:
			name: "URL de l'applet"
			commentaire: "Exemple : https://pastell.libriciel.fr/libersign/"
		libersign_extension_update_url:
			name: "URL de l'extension Libersign V2"
			commentaire: "Exemple : https://pastell.libriciel.fr/libersign/"
		libersign_city:
			name: "Ville"
			commentaire: "Nécessaire, pour être introduite dans la signature des fichier PES"
		libersign_cp:
			name: "Code postal"
			commentaire: "Nécessaire, pour être introduite dans la signature des fichier PES"
		libersign_crypto_url:
			name: URL vers le service crypto
			commentaire: "Exemple : http://crypto:8080 ou http://127.0.0.1:8030"
		libersign_signature_type:
			name: Type de signature
			commentaire: |
				Xades pour Hélios générique/automatique <br />
				Cades pour actes générique/automatique (sauf si Pades sélectionné) <br />
				Le choix sera respecté pour les flux studio et l'action de test
			type: select
			value:
				CADES: Cades
				XADES: Xades
				PADES: Pades
			default: XADES
		libersign_stamp_image:
			name: Image du tampon
			commentaire: |
				Uniquement en signature PADES (au format JPEG ou PNG)<br />
				Taille 25x25 (redimensionnement automatique)
			type: file
			content-type: image/png,image/jpeg

		libersign_x_position:
			name: Position du tampon (horizontal)
			commentaire: |
				Uniquement en signature PADES<br />
				400 points par défaut ( côté droit)

		libersign_y_position:
			name: Position du tampon (vertical)
			commentaire: |
				Uniquement en signature PADES<br />
				0 points par défaut (pied de page)
		libersign_test_document:
			name: Document de test à signer
			type: file
		libersign_test_document_result:
			name: Résultat de la signature du document
			type: file
			read-only: true
		libersign_test:
			name: Tester Libersign V2
			commentaire: Il n'y a pas de bouton permettant de déclencher une action externalData...
			link_name: Tester Libersign V2
			type: externalData
			choice-action: test-libersign
			no-show: true

action:
	test-libersign:
		name: Test libersign
		rule:
			role_id_e: no-role
		action-class: LibersignTestV2
	test-libersign-button:
		name: Tester Libersign
		action-class: LibersignTestButton
