nom: 'Suppression en masse'
description: "Permet de déclencher la suppresion des documents d'un ou plusieurs type sur toutes les entités, quelque soit l'état du document"
type: Purge
formulaire:
    Information:
        entity_label:
            name: Entité
            type: externalData
            commentaire: 'Ce champ est obligatoire'
            choice-action: entity_list
            link_name: "Sélectionner l'entité"
            requis: true
        entity_id:
            no-show: true
        include_children:
            name: 'Inclure les entités filles'
            type: checkbox
        actif:
            name: 'Connecteur actif'
            type: checkbox
        document_type_libelle:
            name: 'Type de dossier'
            commentaire: "Si aucun selectionné, s'applique sur TOUS les types de document"
            type: externalData
            choice-action: type_document
            link_name: 'Sélectionner le type de dossier'
        document_type:
            no-show: true
        nb_days:
            name: 'Nombre de jours minimum passés dans le dernier état du document'
            commentaire: '5000 par défaut'
            default: 5000
action:
    test:
        name: 'Lister les dossiers à supprimer'
        action-class: PurgeGlobaleListDocument
    purge:
        name: 'Traitement (immédiat)'
        action-class: PurgeGlobalePurger
        action-automatique: purge
    purge-async:
        name: 'Traitement (par le gestionnaire de tâche)'
        action-class: PurgeGlobalePurgerAsync
    type_document:
        rule:
            internal-action: true
        action-class: StandardChoiceAction
        connecteur-type: utilities
        connecteur-type-action: GetModuleList
        connecteur-type-mapping:
            page_title: 'Choix du type de dossier'
            module_type: document_type
            module_type_label: document_type_libelle
    entity_list:
        rule:
            internal-action: true
        action-class: StandardChoiceAction
        connecteur-type: utilities
        connecteur-type-action: GetEntityList
        connecteur-type-mapping:
            page_title: "Choix de l'entité"
